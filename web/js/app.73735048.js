(function(t){function e(e){for(var l,o,i=e[0],s=e[1],c=e[2],p=0,m=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(l in s)Object.prototype.hasOwnProperty.call(s,l)&&(t[l]=s[l]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],l=!0,i=1;i<a.length;i++){var s=a[i];0!==r[s]&&(l=!1)}l&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var l={},r={app:0},n=[];function o(e){if(l[e])return l[e].exports;var a=l[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=l,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)o.d(a,l,function(e){return t[e]}.bind(null,l));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=s;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var l=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal",router:""}},[a("el-menu-item",{staticClass:"nav",attrs:{index:"/warning"}},[t._v("警告")]),a("el-menu-item",{staticClass:"nav",attrs:{index:"/node"}},[t._v("Node")]),a("el-menu-item",{staticClass:"nav",attrs:{index:"/pod"}},[t._v("Pod")]),a("el-menu-item",{staticClass:"nav",attrs:{index:"/Services"}},[t._v("Services")])],1),a("router-view")],1)},n=[],o={name:"App",data:function(){return{activeIndex:"/node"}}},i=o,s=(a("034f"),a("2877")),c=Object(s["a"])(i,r,n,!1,null,null,null),u=c.exports,p=a("5c96"),m=a.n(p),b=a("8c4f"),d=(a("0fae"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%","padding-top":"2%","pading-bottom":"2%"}},[a("el-table",{staticStyle:{width:"96%","margin-left":"2%"},attrs:{data:t.tableData,"span-method":t.objectSpanMethod}},[a("el-table-column",{attrs:{fixed:"",prop:"name",label:"节点名"}}),a("el-table-column",{attrs:{formatter:t.cellFormatter,label:"Cpu/Mem"}}),a("el-table-column",{attrs:{formatter:t.cellFormatter,label:"最大值"}}),a("el-table-column",{attrs:{formatter:t.cellFormatter,label:"最小值"}}),a("el-table-column",{attrs:{formatter:t.cellFormatter,label:"幅度"}}),a("el-table-column",{attrs:{formatter:t.cellFormatter,label:"平均值"}}),a("el-table-column",{attrs:{formatter:t.cellFormatter,label:"最快增幅"}}),a("el-table-column",{attrs:{formatter:t.cellFormatter,label:"磁盘使用情况"}})],1)],1)}),f=[],h=(a("ac1f"),a("1276"),a("bc3a")),g=a.n(h);function v(t){return""==t?"":t.split("T")[1].split(".")[0]}var y={name:"NodeTable",data:function(){return{tableData:[]}},created:function(){var t=this;g.a.get("https://klog.lync2m.com/nodes").then((function(e){t.tableData=e.data})).catch((function(t){console.log(t)}))},methods:{objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex,a=t.columnIndex;if(0===a||7===a)return e%2===0?{rowspan:2,colspan:1}:{rowspan:0,colspan:0}},cellFormatter:function(t,e,a,l){if(l%2===0){if("Cpu/Mem"==e.label)return"Cpu";if("最大值"==e.label)return t.cpuSumMax+"% ("+v(t.cpuSumMaxTime)+")";if("最小值"==e.label)return t.cpuSumMin+"% ("+v(t.cpuSumMinTime)+")";if("幅度"==e.label)return t.cpuVolatility+"%";if("平均值"==e.label)return t.cpuSumAvg+"%";if("最快增幅"==e.label)return t.cpuMaxRatio+"%";if("磁盘使用情况"==e.label)return t.diskUsed+"Gi/"+t.diskTotal+"Gi "+t.diskUsedRatio+"%"}if(l%2===1){if("Cpu/Mem"==e.label)return"Mem";if("最大值"==e.label)return t.memMax+"Gi ("+v(t.memMaxTime)+")";if("最小值"==e.label)return t.memMin+"Gi ( "+v(t.memMinTime)+")";if("幅度"==e.label)return t.memVolatility+"Gi";if("平均值"==e.label)return t.memAvg+"Gi";if("最快增幅"==e.label)return t.memMaxRatio+"%";if("磁盘使用情况"==e.label)return t.diskUsed+"Gi/"+t.diskTotal+"Gi "+t.diskUsedRatio+"%"}}}},_=y,S=Object(s["a"])(_,d,f,!1,null,"929452c0",null),w=S.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%","padding-top":"2%","pading-bottom":"2%"}},[a("el-table",{staticStyle:{width:"96%","margin-left":"2%"},attrs:{data:t.tableData,height:"600"}},[a("el-table-column",{attrs:{fixed:"",prop:"namespace",label:"Namespace"}}),a("el-table-column",{attrs:{fixed:"",prop:"name",label:"Pod"}}),a("el-table-column",{attrs:{prop:"cpuSumMax",label:"Cpu最大值 (m)",sortable:""}}),a("el-table-column",{attrs:{formatter:t.cellFormatter,label:"Cpu最大时刻",sortable:""}}),a("el-table-column",{attrs:{prop:"cpuSumMin",label:"Cpu最小值 (m)",sortable:""}}),a("el-table-column",{attrs:{formatter:t.cellFormatter,label:"Cpu最小时刻",sortable:""}}),a("el-table-column",{attrs:{prop:"cpuVolatility",label:"Cpu幅度 (m)",sortable:""}}),a("el-table-column",{attrs:{prop:"cpuSumAvg",label:"Cpu平均值 (m)",sortable:""}}),a("el-table-column",{attrs:{prop:"cpuMaxRatio",label:"Cpu最快增幅 (m)",sortable:""}}),a("el-table-column",{attrs:{prop:"memMax",label:"Mem最大值 (Mi)",sortable:""}}),a("el-table-column",{attrs:{formatter:t.cellFormatter,label:"Mem最大时刻",sortable:""}}),a("el-table-column",{attrs:{prop:"memMin",label:"Mem最小值 (Mi)",sortable:""}}),a("el-table-column",{attrs:{formatter:t.cellFormatter,label:"Mem最小时刻",sortable:""}}),a("el-table-column",{attrs:{prop:"memVolatility",label:"Mem幅度 (Mi)",sortable:""}}),a("el-table-column",{attrs:{prop:"memAvg",label:"Mem平均值 (Mi)",sortable:""}}),a("el-table-column",{attrs:{prop:"memMaxRatio",label:"Mem最快增幅 (Mi)",sortable:""}})],1)],1)},x=[];function C(t){return""==t?"":t.split("T")[1].split(".")[0]}var k={name:"PodTable",data:function(){return{tableData:[]}},created:function(){var t=this;g.a.get("https://klog.lync2m.com/pods").then((function(e){t.tableData=e.data})).catch((function(t){console.log(t)}))},methods:{cellFormatter:function(t,e,a,l){return"Cpu最大时刻"==e.label?C(t.cpuSumMaxTime):"Cpu最小时刻"==e.label?C(t.cpuSumMinTime):"Mem最大时刻"==e.label?C(t.memMaxTime):"Mem最小时刻"==e.label?C(t.memMinTime):void 0}}},F=k,j=Object(s["a"])(F,M,x,!1,null,"59909690",null),E=j.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"warning-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"show-header":!1}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-table",{staticClass:"demo-table-expand",staticStyle:{width:"100%"},attrs:{"label-position":"left",inline:"",data:e.row.children}},[a("el-table-column",{attrs:{prop:"type",label:"类型"}}),a("el-table-column",{attrs:{prop:"describe",label:"描述"}}),a("el-table-column",{attrs:{prop:"warningValue",label:"警戒值（%）"},scopedSlots:t._u([{key:"default",fn:function(e){return["Cpu"==e.row.type?[t._v(t._s(e.row.warningValue+"%"))]:[t._v(t._s(e.row.warningValue))]]}}],null,!0)}),a("el-table-column",{attrs:{prop:"actual",label:"实际值"},scopedSlots:t._u([{key:"default",fn:function(e){return["Cpu"==e.row.type?[t._v(" "+t._s(e.row.actual+"%"))]:[t._v(" "+t._s(e.row.actual))]]}}],null,!0)}),a("el-table-column",{attrs:{prop:"time",label:" 时间","min-width":100,formatter:t.timeFormatter}}),a("el-table-column",{attrs:{label:" 嫌疑人","min-width":100},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",t._l(e.row.suspect,(function(e,l){return a("div",{key:l},[a("p",[a("el-button",{attrs:{type:"warning",round:"",size:"mini"},on:{click:function(a){return t.open(e)}}},[t._v(t._s(e.namespace)+"/"+t._s(e.name))])],1)])})),0)]}}],null,!0)})],1)]}}])}),a("el-table-column",{attrs:{label:"节点名称",prop:"name"}})],1)],1)},D=[],O=(a("d3b7"),a("4d63"),a("25f0"),a("4d90"),a("5319"),a("53ca"));function P(t,e){if(0===arguments.length||!t)return null;var a,l=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(O["a"])(t)?a=t:("string"===typeof t&&(t=/^[0-9]+$/.test(t)?parseInt(t):t.replace(new RegExp(/-/gm),"/")),"number"===typeof t&&10===t.toString().length&&(t*=1e3),a=new Date(t));var r={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},n=l.replace(/{([ymdhisa])+}/g,(function(t,e){var a=r[e];return"a"===e?["日","一","二","三","四","五","六"][a]:a.toString().padStart(2,"0")}));return n}var $={data:function(){return{tableData:[]}},mounted:function(){this.refreshTableData()},methods:{open:function(t){this.$router.push({path:"/podinfo",query:t})},refreshTableData:function(){var t=this;g.a.get("https://klog.lync2m.com/warnings").then((function(e){t.tableData=e.data})).catch((function(t){console.log(t)}))},timeFormatter:function(t,e){return P(new Date(t.time),"{h}:{i}:{s}")}}},G=$,V=(a("bfc8"),Object(s["a"])(G,T,D,!1,null,null,null)),R=V.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%","padding-top":"2%","pading-bottom":"2%",height:"100%"}},[a("el-card",{staticClass:"box-card",staticStyle:{padding:"2% 1%"}},[a("div",{staticStyle:{padding:"5% 1%"}},[a("ul",{staticStyle:{"padding-inline-start":"0px","list-style":"none","text-align":"left"}},[a("li",{staticStyle:{"border-bottom":"1px solid #EBEEF5"}},[a("p",[a("lable",{staticStyle:{"margin-left":"2%"}},[t._v("Pod名称：")]),a("span",{staticStyle:{float:"right","margin-right":"2%"}},[t._v(t._s(this.suspect.name))])],1)]),a("li",{staticStyle:{"border-bottom":"1px solid #EBEEF5"}},[a("p",[a("lable",{staticStyle:{"margin-left":"2%"}},[t._v("命名空间：")]),a("span",{staticStyle:{float:"right","margin-right":"2%"}},[t._v(t._s(this.suspect.namespace))])],1)]),a("li",{staticStyle:{"border-bottom":"1px solid #EBEEF5"}},[a("p",[a("lable",{staticStyle:{"margin-left":"2%"}},[t._v("实际值：")]),a("span",{staticStyle:{float:"right","margin-right":"2%"}},["PodCpu"==this.suspect.type?[t._v(t._s(this.suspect.actualValue+"%"))]:t._e(),"PodMem"==this.suspect.type?[t._v(t._s(this.suspect.actualValue+"G"))]:t._e()],2)],1)]),a("li",{staticStyle:{"border-bottom":"1px solid #EBEEF5"}},[a("p",[a("lable",{staticStyle:{"margin-left":"2%"}},[t._v("浮动值：")]),a("span",{staticStyle:{float:"right","margin-right":"2%"}},["PodCpu"==this.suspect.type?[t._v(t._s(this.suspect.volatility+"%"))]:t._e(),"PodMem"==this.suspect.type?[t._v(t._s(this.suspect.volatility+"G"))]:t._e()],2)],1)]),a("li",[a("el-button",{staticStyle:{float:"right","margin-top":"8%","margin-right":"5%"},attrs:{type:"primary",icon:"el-icon-arrow-left",circle:""},on:{click:t.back}})],1)])])])],1)},I=[],A={name:"PodInfo",data:function(){return{suspect:{}}},created:function(){this.suspect=this.$route.query},methods:{back:function(){this.$router.push({path:"/warning"})}}},B=A,N=Object(s["a"])(B,U,I,!1,null,"233fdd84",null),q=N.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%","padding-top":"2%","pading-bottom":"2%"}},[a("el-table",{staticStyle:{width:"96%","margin-left":"2%"},attrs:{data:t.tableData,height:"600"}},[a("el-table-column",{attrs:{fixed:"",prop:"nameSpace",label:"Namespace"}}),a("el-table-column",{attrs:{fixed:"",prop:"name",label:"服务名"}}),a("el-table-column",{attrs:{prop:"kind",label:"Kind",sortable:""}}),a("el-table-column",{attrs:{prop:"description",label:"描述",sortable:""}}),a("el-table-column",{attrs:{prop:"gitUrl",label:"git仓库",sortable:""}}),a("el-table-column",{attrs:{prop:"gatewayUrl",label:"外部访问地址",sortable:""}}),a("el-table-column",{attrs:{prop:"innerUrl",label:"内部访问地址",sortable:""}}),a("el-table-column",{attrs:{prop:"replicas",label:"重复数",sortable:""}}),a("el-table-column",{attrs:{prop:"ready",label:"可用数",sortable:""}})],1)],1)},J=[];var H={name:"Services",data:function(){return{tableData:[]}},created:function(){var t=this;g.a.get("https://klog.lync2m.com/services").then((function(e){t.tableData=e.data})).catch((function(t){console.log(t)}))}},K=H,Y=Object(s["a"])(K,z,J,!1,null,"8eb6447a",null),L=Y.exports,Q=[{path:"/warning",component:R},{path:"/node",component:w},{path:"/pod",component:E},{path:"/podinfo",component:q},{path:"/services",component:L}],W=Q;l["default"].config.productionTip=!1,l["default"].use(m.a),l["default"].use(b["a"]);var X=new b["a"]({routes:W});new l["default"]({router:X,render:function(t){return t(u)}}).$mount("#app")},"85ec":function(t,e,a){},bfc8:function(t,e,a){"use strict";a("fcf7")},fcf7:function(t,e,a){}});
//# sourceMappingURL=app.73735048.js.map